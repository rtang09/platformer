<div style="margin: 0; padding: 0" id = "inst">w</div>
<div class = "nospace"><div id = "00" class = "square"></div><div id = "01" class = "square"></div><div id = "02" class = "square"></div><div id = "03" class = "square"></div><div id = "04" class = "square"></div><div id = "05" class = "square"></div><div id = "06" class = "square"></div><div id = "07" class = "square"></div><div id = "08" class = "square"></div><div id = "09" class = "square"></div><br><div id = "10" class = "square"></div><div id = "11" class = "square"></div><div id = "12" class = "square"></div><div id = "13" class = "square"></div><div id = "14" class = "square"></div><div id = "15" class = "square"></div><div id = "16" class = "square"></div><div id = "17" class = "square"></div><div id = "18" class = "square"></div><div id = "19" class = "square"></div><br><div id = "20" class = "square"></div><div id = "21" class = "square"></div><div id = "22" class = "square"></div><div id = "23" class = "square"></div><div id = "24" class = "square"></div><div id = "25" class = "square"></div><div id = "26" class = "square"></div><div id = "27" class = "square"></div><div id = "28" class = "square"></div><div id = "29" class = "square"></div><br><div id = "30" class = "square"></div><div id = "31" class = "square"></div><div id = "32" class = "square"></div><div id = "33" class = "square"></div><div id = "34" class = "square"></div><div id = "35" class = "square"></div><div id = "36" class = "square"></div><div id = "37" class = "square"></div><div id = "38" class = "square"></div><div id = "39" class = "square"></div><br><div id = "40" class = "square"></div><div id = "41" class = "square"></div><div id = "42" class = "square"></div><div id = "43" class = "square"></div><div id = "44" class = "square"></div><div id = "45" class = "square"></div><div id = "46" class = "square"></div><div id = "47" class = "square"></div><div id = "48" class = "square"></div><div id = "49" class = "square"></div><br><div id = "50" class = "square"></div><div id = "51" class = "square"></div><div id = "52" class = "square"></div><div id = "53" class = "square"></div><div id = "54" class = "square"></div><div id = "55" class = "square"></div><div id = "56" class = "square"></div><div id = "57" class = "square"></div><div id = "58" class = "square"></div><div id = "59" class = "square"></div><br><div id = "60" class = "square"></div><div id = "61" class = "square"></div><div id = "62" class = "square"></div><div id = "63" class = "square"></div><div id = "64" class = "square"></div><div id = "65" class = "square"></div><div id = "66" class = "square"></div><div id = "67" class = "square"></div><div id = "68" class = "square"></div><div id = "69" class = "square"></div><br><div id = "70" class = "square"></div><div id = "71" class = "square"></div><div id = "72" class = "square"></div><div id = "73" class = "square"></div><div id = "74" class = "square"></div><div id = "75" class = "square"></div><div id = "76" class = "square"></div><div id = "77" class = "square"></div><div id = "78" class = "square"></div><div id = "79" class = "square"></div><br><div id = "80" class = "square"></div><div id = "81" class = "square"></div><div id = "82" class = "square"></div><div id = "83" class = "square"></div><div id = "84" class = "square"></div><div id = "85" class = "square"></div><div id = "86" class = "square"></div><div id = "87" class = "square"></div><div id = "88" class = "square"></div><div id = "89" class = "square"></div><br><div id = "90" class = "square"></div><div id = "91" class = "square"></div><div id = "92" class = "square"></div><div id = "93" class = "square"></div><div id = "94" class = "square"></div><div id = "95" class = "square"></div><div id = "96" class = "square"></div><div id = "97" class = "square"></div><div id = "98" class = "square"></div><div id = "99" class = "square"></div></div>

<div id = "player" class = "player"></div>
<br>
<div id = "timer">0</div>
<div id = "attempts">(1 attempt)</div>
<input type = "checkbox" id = "hacks"><br>
<a href = "edit.html">Level Editor</a><br>
<p id = "debug"></p>

<script>
var isorange = 0;
var isblue = 0;
var attp = 1;
var time = 0;
var px = 0;
var py = 0;
var pvy = 0;
var pvx = 0;
var a = 9.8;
var temp1 = 0;
var temp2 = 0;
var temp3 = 0;
var temp4 = 0;
var temp5 = 0;
var startx = 0;
var starty = 0;
var lvl = 0;
var arr = [[
"XXXXXXXXXX",
"XP0X00000X",
"X00000S00X",
"XXSSSXXX0X",
"X000000X0X",
"X00S0X000X",
"X0SSSX00SX",
"X00S0XXXXX",
"XX000000VX",
"XXXXXXXXXX"],

[
"XXXXXXXXXX",
"XS0PSSSSSX",
"XS0XX000XX",
"XS0000S00X",
"XSSSSSXX0X",
"X00000000X",
"X0S0SS0SSX",
"X0S0SS0SSX",
"XVS0000SSX",
"XXXXXXXXXX"],

[
"XXXXXXXXXX",
"X00000000X",
"X00SSSSS0X",
"X00SPS000X",
"X00S0S0SXX",
"XS0S0S00SX",
"XV0S0SS00X",
"XSSS0S0S0X",
"X00000000X",
"XXXXXXXXXX"],

[
"XXXXXXXXXX",
"XV000000SX",
"XXSCSSCSSX",
"X0CCCCCC0X",
"X0SSSSSX0X",
"XC000C0X0X",
"XSX00SSX0X",
"XSS0SSXX0X",
"XP0000XXCX",
"XXXXXXXXXX"],
           ["XXXXXXXXXXX","XSCS0XSXSXS","XCCC0SXSXXV","XSCS0XSXSXC","XSSS0SXSXX0","X00000000X","XCXXS0CS0X","XSS000SS0X","XP00S0CSVX","XXXXXSSXXX"],


[
"XXXXXXXXXX",
"XP0000000X",
"XX0XXXXX0X",
"X0000CS00X",
"X0SSSSS0SX",
"X0SS0S00SX",
"X00SSS0SCX",
"XS0CVC0S0X",
"XC0SXS000X",
"XXSSSSSXXX"],

["XXXXXXXXXX","X000S0000XS","X00S00S00XV","X0S00S00SXC","XS00S00S0X0","X00S00S00X","XCS00S00SX","XS00S00S0X","XPVS00S00X","XXXXXXXXXX"],

 ["XXSXSXSXSX","XP000000CX","X0SXSXSXSX","X0XXXXXXXX","X0XS0VSSSX","X0000S000X","X0XSSC0S0X","X0XXXSSX0X","X00000000X","XXSSSXXSXX"],
["XXXXXXXXXX","XPCC00S0SX","X0CCS000BX","XBBBSS0SCX","XSSBSSSSSX","X0SBSSCCCX","X0B00SBBBX","X0SS0SBBBX","X0CS0000VX","XXXXXXXXXX"],
["SSSSSSSSSS","SC0000000SS","S0000X0S0S","SSSSSSS00S","XPB0B0B0XS","XXSSSSS00X","XCCB000S0X","XSSSX0000X0","XV000000SX","XXXXSXXXXX"],
["0000XSSSSXX","0000XSB0VXS","0000XS0SSXV","0000XS000XC","XXXXP0SS0X0","XCSSBB000XP","00SBBXSBSXB","00000XCCCX","XXSBSXSSSX","XXXXXXXXXX"],
 ["XXXXXXXXXXX","XPO0O000OXS","X0OOO00SOXV","X0SSS0SSOXC","XXXXXXXSOX0","XVOOSOCSOXP","XOOO0OOSOXB","XO0S0BOBOXO","XSSSSS0SSX","XXXXXXSXXX"],

["SSSSSSSSSSX","SOOOO000SXSS","SOOOO0SOOXV","SO0OO0SOOX0","SOOOSSSOOX0","SOO0OOVOOXP","SOOOOOOOOXB","S0OOOOOOOXO","SOO0OS00PX","SSSSXXXXXX"],


[
"XXXXXXXXXX",
"X00000000X",
"X00000000X",
"X00000000X",
"X00000000X",
"X00000000X",
"X00000000X",
"X00000000X",
"XP0000000X",
"XXXXXXXXXX"],

];
//remove the spaces between the <divs> to get rid of gap

loadLvl(0);

setInterval(function(){document.getElementById("player").style.left = px+"px";
document.getElementById("player").style.top = py+"px";
temp1 = py+(pvy+a/15)/15;
document.getElementById("debug").innerHTML = px+", "+py+"|"+lvl;
if (arr[lvl][parseInt(temp1/100)][parseInt(px/100)] != 'X'){
pvy += a/15;
py += pvy/15;
}
else{
pvy = 0;
}



temp2 = px+pvx/15;
if (arr[lvl][parseInt(py/100)][parseInt(temp2/100)] != 'X'){
px += pvx/15;
}



if (!document.getElementById("hacks").checked){
if (arr[lvl][parseInt(py/100)][parseInt(px/100)] == 'S'){
attp++;
document.getElementById("attempts").innerHTML = "("+attp+" attempts)";
time = 0;
for (var i=0;i<10;i++){
for (var j=0;j<10;j++){
if (arr[lvl][i][j] == 'C'){
document.getElementById(i+""+j).style.backgroundColor = "yellow";
}
}
}
px = startx;
py = starty;
pvx = 0;
pvy = 0;
}
}

if (arr[lvl][parseInt(py/100)][parseInt(px/100)] == 'C'){
document.getElementById(parseInt(py/100)+""+parseInt(px/100)).style.backgroundColor = "white";
}

if (arr[lvl][parseInt(py/100)][parseInt(px/100)] == 'B'){
if (!isblue){
pvy = 0;
}
isblue = 1;
a = 0;
}
else{
isblue = 0;
a = 9.8;
}


if (arr[lvl][parseInt(py/100)][parseInt(px/100)] == 'O'){
isorange = 1;
}
else{
isorange = 0;
}



if (arr[lvl][parseInt(py/100)][parseInt(px/100)] == 'V'){

temp3 = 0;
for (var i=0;i<10;i++){
for (var j=0;j<10;j++){
if (document.getElementById(i+""+j).style.backgroundColor == 'yellow'){
temp3++;
}
}
}
if (temp3 == 0){

if (!document.getElementById("hacks").checked){
if (localStorage[lvl]){
localStorage[lvl] = Math.min(localStorage[lvl],time/10);
}
else{
localStorage[lvl] = time/10;
}
}
time=0;

lvl++;
pvx = 0;
pvy = 0;


//reset
for (var i=0;i<10;i++){
for (var j=0;j<10;j++){
if (arr[lvl][i][j] == 'X'){
document.getElementById(i+""+j).style.backgroundColor = "black";
}
if (arr[lvl][i][j] == 'S'){
document.getElementById(i+""+j).style.backgroundColor = "red";
}
if (arr[lvl][i][j] == 'V'){
document.getElementById(i+""+j).style.backgroundColor = "green";
}
if (arr[lvl][i][j] == 'C'){
document.getElementById(i+""+j).style.backgroundColor = "yellow";
}
if (arr[lvl][i][j] == '0'){
document.getElementById(i+""+j).style.backgroundColor = "white";
}
if (arr[lvl][i][j] == 'B'){
document.getElementById(i+""+j).style.backgroundColor = "blue";
}
if (arr[lvl][i][j] == 'O'){
document.getElementById(i+""+j).style.backgroundColor = "orange";
}
if (arr[lvl][i][j] == 'P'){
document.getElementById(i+""+j).style.backgroundColor = "white";
document.getElementById("player").style.left = (100*j+30)+"px";
document.getElementById("player").style.top = (100*i+30)+"px";
px = 100*j+30;
py = 100*i+30;
startx = px;
starty = py;
}

}
}
}
//reset



}

time++;
document.getElementById("timer").innerHTML = Math.floor(time*1000)/10000+" ("+localStorage[lvl]+" )";

if (lvl < 3){
document.getElementById("inst").innerHTML = "use arrow keys to move/jump and you have infnite jumps in the air";
}
else if (lvl < 8){
document.getElementById("inst").innerHTML = "collect all the yellow squares";
}
else if (lvl < 11){
document.getElementById("inst").innerHTML = "use arrow keys (up down left right) to go through the blue area";
}
else if (lvl < 13){
document.getElementById("inst").innerHTML = "you cannot jump in the orange area";
}
else if (lvl == 13){
document.getElementById("inst").innerHTML = "you win";
}

},8);


  
document.addEventListener('keydown', function(event) {
  if (event.key === 'ArrowLeft'){
    pvx = -20;
  }
  if (event.key === 'ArrowRight'){
  	pvx = 20;
  }
  if (isorange == 0){
    if (event.key === 'ArrowUp'){
      pvy = -50;
      if (isblue == 1){
          pvy = -20;
      }
    }
  }  
  if (event.key === 'ArrowDown'){
    if (isblue == 1){
        pvy = 20;
    }
  }  

});


  document.addEventListener('keyup', function(event) {
    if (event.key === 'ArrowLeft'){
      pvx = 0;
    }
    if (event.key === 'ArrowRight'){
      pvx = 0;
    }
    if (isblue == 1){
      if (event.key === 'ArrowUp'){
        pvy = 0;
      }
      if (event.key === 'ArrowDown'){
        pvy = 0;
      }
    }

  });


function loadLvl(level){
lvl = level;
for (var i=0;i<10;i++){
for (var j=0;j<10;j++){
if (arr[level][i][j] == 'X'){
document.getElementById(i+""+j).style.backgroundColor = "black";
}
if (arr[level][i][j] == 'S'){
document.getElementById(i+""+j).style.backgroundColor = "red";
}
if (arr[level][i][j] == 'V'){
document.getElementById(i+""+j).style.backgroundColor = "green";
}
if (arr[level][i][j] == 'C'){
document.getElementById(i+""+j).style.backgroundColor = "yellow";
}
if (arr[level][i][j] == '0'){
document.getElementById(i+""+j).style.backgroundColor = "white";
}
if (arr[level][i][j] == 'B'){
document.getElementById(i+""+j).style.backgroundColor = "blue";
}
if (arr[level][i][j] == 'O'){
document.getElementById(i+""+j).style.backgroundColor = "orange";
}
if (arr[level][i][j] == 'P'){
document.getElementById("player").style.left = (100*j+30)+"px";
document.getElementById("player").style.top = (100*i+30)+"px";
px = 100*j+30;
py = 100*i+30;
startx = px;
starty = py;
}

}
}
}


</script>
<style>
.square{
  width: 100px;
  height: 100px;
  display: inline-block;
}
.player{
  width: 30px;
  height: 30px;
  display: inline-block;
  background-color: green;
  position: absolute;
}
.nospace{
  margin: 0;
  padding: 0;
  line-height: 0;
}
#timer{
  font-size: 70px;
}
#attempts{
  font-size: 30px;
}
</style>
